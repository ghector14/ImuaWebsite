<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" rel="stylesheet">
    <title>Checkout - IMUA Athletics</title>
</head>
<body class="loaded">
    <nav>
        <div class="navTop">
            <div class="navItem">
                <a href="index.html">
                    <img src="./images/imualogoo.PNG" width="150" height="150" alt="Imua Track Club Logo">
                </a>
            </div>
          
            <div class="navItem">
                <div class="cart-icon-container">
                    <span class="cartIcon">ðŸ›’</span>
                    <span class="cart-count">0</span>
                    <div class="mini-track-container">
                        <div class="mini-track-lane"></div>
                        <div class="mini-track-lane"></div>
                        <div class="mini-track-lane"></div>
                        <div class="mini-track-lane"></div>
                        <div class="mini-track-lane"></div>
                        <div class="mini-track-lane"></div>
                        <div class="mini-track-lane"></div>
                        <div class="mini-track-lane"></div>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <div class="checkout-page">
    
        <div class="checkout-container">
            <!-- Left Side - Shipping Form -->
            <div class="checkout-form-section">
                <h2 class="checkout-heading">Shipping Information</h2>
                <form class="checkout-form" id="checkoutForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">First Name</label>
                            <input type="text" name="firstName" class="checkout-input" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Last Name</label>
                            <input type="text" name="lastName" class="checkout-input" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Email</label>
                        <input type="email" name="email" class="checkout-input" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Phone</label>
                        <input type="tel" name="phone" class="checkout-input" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Address</label>
                        <input type="text" name="address" class="checkout-input" required>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">City</label>
                            <input type="text" name="city" class="checkout-input" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">State</label>
                            <input type="text" name="state" class="checkout-input" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">ZIP Code</label>
                            <input type="text" name="zip" class="checkout-input" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Country</label>
                            <input type="text" name="country" class="checkout-input" value="USA" required>
                        </div>
                    </div>
                </form>
            </div>

            <!-- Right Side - Order Summary -->
            <div class="checkout-summary-section">
                <h2 class="checkout-heading">Order Summary</h2>
                <div class="summary-items" id="summaryItems"></div>
                
                <div class="summary-totals">
                    <div class="summary-row">
                        <span class="summary-label">Subtotal:</span>
                        <span class="summary-value" id="subtotal">$0</span>
                    </div>
                    <div class="summary-row">
                        <span class="summary-label">Shipping:</span>
                        <span class="summary-value">$10</span>
                    </div>
                    <div class="summary-row summary-total">
                        <span class="summary-label">Total:</span>
                        <span class="summary-value" id="totalAmount">$0</span>
                    </div>
                </div>
                
                <button class="checkout-submit-btn" id="paymentBtn">PROCEED TO PAYMENT</button>
            </div>
        </div>
    </div>

    <!-- Cart Side Panel -->
    <div class="cart-panel" id="cartPanel">
        <div class="cart-panel-content">
            <div class="cart-header">
                <h2 class="cart-title">YOUR CART</h2>
                <span class="cart-close" onclick="document.getElementById('cartPanel').classList.remove('active')">&times;</span>
            </div>
            <div class="cart-items" id="cartItems"></div>
            <div class="cart-footer">
                <div class="cart-total-row">
                    <span class="cart-total-label">TOTAL:</span>
                    <span class="cart-total-amount" id="cartTotal">$0</span>
                </div>
                <a href="checkout.html" class="cart-checkout-btn">CHECKOUT</a>
            </div>
        </div>
    </div>

    <footer>
        <div class="footerLeft">
            <div class="footerMenu">
                <h1 class="fMenuTittle">About</h1>
                <ul class="fList">
                    <li class="fListItem"><a href="company.html" style="color: gray; text-decoration: none;">Our Story</a></li>
                    <li class="fListItem"><a href="contact.html" style="color: gray; text-decoration: none;">Contact</a></li>
                </ul>
            </div>
            <div class="footerMenu">
                <h1 class="fMenuTittle">Community</h1>
                <ul class="fList">
                    <li class="fListItem"><a href="stories.html" style="color: gray; text-decoration: none;">Athlete Stories</a></li>
                </ul>
            </div>
            <div class="footerMenu">
                <h1 class="fMenuTittle">Products</h1>
                <ul class="fList">
                    <li class="fListItem">Hats</li>
                    <li class="fListItem">Beanies</li>
                    <li class="fListItem">Shirts</li>
                    <li class="fListItem">Hoodies</li>
                    <li class="fListItem">Pants</li>
                </ul>
            </div>
        </div>
        <div class="footerRight">
            <div class="footerRightMenu">
                <h1 class="fMenuTitle">Subscribe to our newsletter</h1>
                <div class="fMail">
                    <input type="text" placeholder="your@email.com" class="fInput">
                    <button class="fButton">Join</button>
                </div>
            </div>
            <div class="footerRightMenu">
                <h1 class="fMenuTitle">Follow Us</h1>
                <div class="fIcons">
                    <a href="https://www.instagram.com/imuaathletics/" target="blank">
                        <img src="./images/instagram.webp" alt="" class="fIcon"> 
                    </a>
                    <a href="" target="blank">
                        <img src="./images/fb.png" alt="" class="fIcon">
                    </a>
                    <a href="https://www.pinterest.com/imuaathletics/" target="blank">
                        <img src="./images/pin.webp" alt="" class="fIcon">
                    </a>
                </div>
            </div>
            <div class="footerRightMenu">
                <span class="copyright">@Imua Athletics. All right reserved. 2025.</span>
            </div>
        </div>
    </footer>

    <script>
        // Initialize cart
        const cart = JSON.parse(localStorage.getItem('cart')) || [];
        const cartCountElement = document.querySelector(".cart-count");
        const cartIconContainer = document.querySelector(".cart-icon-container");

        if (cart.length > 0) {
            cartCountElement.textContent = cart.length;
            cartIconContainer.classList.add("has-items");
        }

        // Footer product links
        const footerProducts = document.querySelectorAll(".footerLeft .footerMenu:last-child .fList .fListItem");
        
        footerProducts.forEach((link, index) => {
            link.addEventListener("click", () => {
                window.location.href = `index.html#product-${index}`;
            });
        });

        // Cart Side Panel functionality
        cartIconContainer.addEventListener("click", () => {
            document.getElementById('cartPanel').classList.add('active');
            renderCart();
        });

        function renderCart() {
            const cart = JSON.parse(localStorage.getItem('cart')) || [];
            const cartItemsContainer = document.getElementById('cartItems');
            const cartTotal = document.getElementById('cartTotal');
            
            if (cart.length === 0) {
                cartItemsContainer.innerHTML = '<p class="empty-cart">Your cart is empty</p>';
                cartTotal.textContent = '$0';
                return;
            }
            
            let total = 0;
            cartItemsContainer.innerHTML = '';
            
            cart.forEach(item => {
                total += item.price;
                
                const cartItemDiv = document.createElement('div');
                cartItemDiv.className = 'cart-item';
                cartItemDiv.innerHTML = `
                    <img src="${item.image}" alt="${item.product}" class="cart-item-image">
                    <div class="cart-item-details">
                        <h4 class="cart-item-name">${item.product}</h4>
                        <p class="cart-item-size">Size: ${item.size}</p>
                        <p class="cart-item-price">$${item.price}</p>
                    </div>
                    <button class="cart-item-delete" data-id="${item.id}">âœ•</button>
                `;
                
                cartItemsContainer.appendChild(cartItemDiv);
            });
            
            cartTotal.textContent = `$${total}`;
            
            // Add delete functionality
            document.querySelectorAll('.cart-item-delete').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const itemId = parseInt(e.target.getAttribute('data-id'));
                    let cart = JSON.parse(localStorage.getItem('cart')) || [];
                    cart = cart.filter(item => item.id !== itemId);
                    localStorage.setItem('cart', JSON.stringify(cart));
                    
                    const newCartCount = cart.length;
                    cartCountElement.textContent = newCartCount;
                    
                    if (newCartCount === 0) {
                        cartIconContainer.classList.remove("has-items");
                    }
                    
                    renderCart();
                    renderOrderSummary();
                });
            });
        }

        // Render Order Summary
        function renderOrderSummary() {
            const cart = JSON.parse(localStorage.getItem('cart')) || [];
            const summaryItems = document.getElementById('summaryItems');
            const subtotalEl = document.getElementById('subtotal');
            const totalEl = document.getElementById('totalAmount');
            
            if (cart.length === 0) {
                summaryItems.innerHTML = '<p class="empty-summary">No items in cart</p>';
                subtotalEl.textContent = '$0';
                totalEl.textContent = '$10';
                return;
            }
            
            let subtotal = 0;
            summaryItems.innerHTML = '';
            
            cart.forEach(item => {
                subtotal += item.price;
                
                const itemDiv = document.createElement('div');
                itemDiv.className = 'summary-item';
                itemDiv.innerHTML = `
                    <img src="${item.image}" alt="${item.product}" class="summary-item-image">
                    <div class="summary-item-details">
                        <p class="summary-item-name">${item.product}</p>
                        <p class="summary-item-size">Size: ${item.size}</p>
                    </div>
                    <p class="summary-item-price">$${item.price}</p>
                `;
                
                summaryItems.appendChild(itemDiv);
            });
            
            const shipping = 10;
            const total = subtotal + shipping;
            
            subtotalEl.textContent = `$${subtotal}`;
            totalEl.textContent = `$${total}`;
        }

        // Initialize order summary
        renderOrderSummary();

        // Payment button (placeholder for now)
        document.getElementById('paymentBtn').addEventListener('click', () => {
            const form = document.getElementById('checkoutForm');
            
            if (form.checkValidity()) {
                alert('Payment integration coming soon! For now, this is where Stripe will handle payment.');
                // TODO: Add Stripe payment integration
            } else {
                form.reportValidity();
            }
        });
    </script>
</body>
</html>